(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{245:function(e,t,n){e.exports=n(430)},250:function(e,t,n){},252:function(e,t,n){},372:function(e,t){},374:function(e,t){},430:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(38),c=n.n(o),l=(n(250),n(20)),i=n.n(l),u=n(39),s=n(19),m=(n(252),n(253),n(441)),f=n(443),d=n(438),h=function(e){var t=e.title,n=e.author,o=e.imgUrl,c=Object(a.useRef)(),l=Object(a.useRef)(),i=Object(a.useRef)();return r.a.createElement("div",{key:t,ref:c,className:"Book",draggable:"true"},r.a.createElement("img",{src:o,alt:t,ref:i,onMouseEnter:function(e){return function(e){var t=e.target.offsetWidth,n=e.target.offsetHeight;e.target.style.opacity="0.2",c.current.style.minWidth=t+"px",l.current.style.minWidth=t+"px",l.current.style.height=n+"px",l.current.style.left=-t+"px"}(e)}}),r.a.createElement("div",{ref:l,className:"Book-text",onMouseLeave:function(e){return i.current.style.opacity="1",c.current.style.minWidth="64px",void(l.current.style.left="0px")}},r.a.createElement("b",null,t),r.a.createElement("br",null),n))},p=function(e){var t=e.items,n=Object(a.useState)(0),o=Object(s.a)(n,2),c=o[0],l=o[1];return r.a.createElement("div",{className:"Carousel"},r.a.createElement(f.a,{icon:"arrow left",onClick:function(){c>0&&l(c-1)},disabled:!t||0===c,style:{height:"50px",margin:"0 10px"}}),r.a.createElement("div",{style:{display:"flex",overflow:"hidden",flex:"1"}},t?t.length>0?function(e){for(var t=[],n=c;n<e.length;n++){var a=e[n];t.push(r.a.createElement(h,{key:a.title,title:a.title,imgUrl:a.imageUrl,author:a.author}))}for(var o=c;o>0;)t.push(r.a.createElement(h,{key:o,color:"transparent"})),o--;return t.push(r.a.createElement(h,{key:o,color:"transparent"})),t}(t):r.a.createElement("div",{style:{margin:"0 auto"}},"No books found."):r.a.createElement(d.a,{inline:"centered",active:!0})),r.a.createElement(f.a,{icon:"arrow right",onClick:function(){c<t.length-1&&l(c+1)},disabled:!t||c===t.length-1,style:{height:"50px",margin:"0 10px"}}))},b=function(e){var t=e.title,n=e.books,a=e.getColorWithIndex;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,t),r.a.createElement(p,{items:n,getColorWithIndex:a}))},g=n(439),E=n(442),v=n(137),k=n.n(v),y=n(219),w="UcQW9As1jUkPj9SLeOgKw",x="https://cors-anywhere.herokuapp.com/https://www.goodreads.com",j={headers:{"X-Requested-With":"XMLHttpRequest"}};function O(e){return new Promise((function(t,n){y.parseString(e,(function(e,a){e?n(e):t(a)}))}))}function S(e){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(i.a.mark((function e(t){var n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x+"/review/list/62798650.xml?key="+w+"&v=2&shelf="+t,e.next=3,k.a.get(n,j);case 3:return a=e.sent,e.next=6,O(a.data);case 6:if(r=e.sent,o=r.GoodreadsResponse.reviews[0].review){e.next=10;break}return e.abrupt("return",[]);case 10:return e.abrupt("return",o.map((function(e){var t=e.book[0];return{title:t.title[0],author:t.authors[0].author[0].name[0],bookId:t.work[0].id[0],imageUrl:t.image_url[0]}})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(i.a.mark((function e(t){var n,a,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x+"/search/index.xml?key="+w+"&q="+t,e.next=3,k.a.get(n,j);case 3:return a=e.sent,e.next=6,O(a.data);case 6:return r=e.sent,o=r.GoodreadsResponse.search[0].results[0].work,e.abrupt("return",o.map((function(e){var t=e.best_book[0];return{title:t.title[0],author:t.author[0].name[0],bookId:t.id[0]._,imageUrl:t.image_url[0]}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=n(232),I=n(444),B=function(e){var t=e.books,n=e.setShowInfoBox,o=e.resetSearch,c=Object(a.useState)([]),l=Object(s.a)(c,2),i=l[0],u=l[1],m=function(e){o(),n(!0)};return r.a.createElement(I.a,null,r.a.createElement("h3",null,"SEARCH RESULTS"),t&&t.length>0&&r.a.createElement("ul",null,t.map((function(e){var t=e.bookId,n=e.title,a=e.author;return r.a.createElement("li",{key:t,onClick:function(e){return function(e){u([].concat(Object(G.a)(i),[e]))}(t)},className:i.includes(t)?"selectedBook":null},n," by ",a)}))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a,{onClick:m},"Add to read."),r.a.createElement(f.a.Or,null),r.a.createElement(f.a,{onClick:m},"Add to later.")))},U=function(){var e=Object(a.useRef)(null),t=Object(a.useState)([]),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(""),m=Object(s.a)(l,2),f=m[0],d=m[1],h=Object(a.useState)(!1),p=Object(s.a)(h,2),b=p[0],v=p[1],k=Object(a.useState)(!1),y=Object(s.a)(k,2),w=y[0],x=y[1];function j(){return(j=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),v(!1),x(!0),t.next=5,R(f);case 5:a=t.sent,c(a),null!==e&&window.scrollTo(0,e.current.offsetTop),x(!1);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{style:{paddingBottom:"24px"}},r.a.createElement("h2",{ref:e},"add."),r.a.createElement(g.a,null,r.a.createElement(g.a.Input,{fluid:!0,action:{color:"teal",icon:"search",loading:w,onClick:function(e){return function(e){return j.apply(this,arguments)}(e)}},placeholder:"Search Goodreads for books",value:f,onChange:function(e){return d(e.target.value)}})),o.length>0&&!b&&r.a.createElement(B,{books:o,setShowInfoBox:v,resetSearch:function(){d(""),c([])}}),b&&r.a.createElement(E.a,{info:!0,content:"This book has also been added to your list in Goodreads."}))};var N=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(null),l=Object(s.a)(c,2),d=l[0],h=l[1];return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("read");case 2:return t=e.sent,e.next=5,S("to-read");case 5:n=e.sent,o(t),h(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"library."),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement(m.a,{content:"Show as lists.",trigger:r.a.createElement(f.a,{circular:!0,color:"teal",icon:"list ul"})}),r.a.createElement(m.a,{content:"Go to Goodreads.",trigger:r.a.createElement(f.a,{circular:!0,color:"teal",icon:"goodreads"})}),r.a.createElement(m.a,{content:"Sign-in via Google.",trigger:r.a.createElement(f.a,{circular:!0,color:"teal",icon:"sign-in"})})),r.a.createElement("hr",null),r.a.createElement(U,null),r.a.createElement("div",null,r.a.createElement(b,{books:n,title:"done."}),r.a.createElement(b,{books:d,title:"later."})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[245,1,2]]]);
//# sourceMappingURL=main.52f54a9b.chunk.js.map