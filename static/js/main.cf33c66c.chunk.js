(this.webpackJsonplibrary=this.webpackJsonplibrary||[]).push([[0],{211:function(e,t,n){e.exports=n(372)},216:function(e,t,n){},218:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(38),c=n.n(o),l=(n(216),n(8)),i=n.n(l),u=n(16),s=n(19),f=n(10),p=n(382),m=n(385),h=(n(218),n(219),n(380)),d=function(e){var t=e.title,n=e.author,o=e.imgUrl,c=Object(r.useRef)(),l=Object(r.useRef)(),i=Object(r.useRef)();return a.a.createElement("div",{key:t,ref:c,className:"Book",draggable:"true"},a.a.createElement("img",{src:o,alt:t,ref:i,onMouseEnter:function(e){return function(e){var t=e.target.offsetWidth,n=e.target.offsetHeight;e.target.style.opacity="0.2",c.current.style.minWidth=t+"px",l.current.style.minWidth=t+"px",l.current.style.height=n+"px",l.current.style.left=-t+"px"}(e)}}),a.a.createElement("div",{ref:l,className:"Book-text",onMouseLeave:function(e){return i.current.style.opacity="1",c.current.style.minWidth="64px",void(l.current.style.left="0px")}},a.a.createElement("b",null,t),a.a.createElement("br",null),n))},b=function(e){var t=e.items,n=Object(r.useState)(0),o=Object(s.a)(n,2),c=o[0],l=o[1];return a.a.createElement("div",{className:"Carousel"},a.a.createElement(m.a,{icon:"arrow left",onClick:function(){c>0&&l(c-1)},disabled:!t||0===c,style:{height:"50px",margin:"0 10px"}}),a.a.createElement("div",{style:{display:"flex",overflow:"hidden",flex:"1"}},t?t.length>0?function(e){for(var t=[],n=c;n<e.length;n++){var r=e[n];t.push(a.a.createElement(d,{key:r.title,title:r.title,imgUrl:r.imageUrl,author:r.author}))}for(var o=c;o>0;)t.push(a.a.createElement(d,{key:o,color:"transparent"})),o--;return t.push(a.a.createElement(d,{key:o,color:"transparent"})),t}(t):a.a.createElement("div",{style:{margin:"0 auto"}},"No books found."):a.a.createElement(h.a,{inline:"centered",active:!0})),a.a.createElement(m.a,{icon:"arrow right",onClick:function(){c<t.length-1&&l(c+1)},disabled:!t||c===t.length-1,style:{height:"50px",margin:"0 10px"}}))},E=function(e){var t=e.items;return a.a.createElement("div",{style:{maxHeight:200,overflow:"auto"}},a.a.createElement("ul",null,t?t.length>0?t.map((function(e){var t=e.bookId,n=e.title,r=e.author;return a.a.createElement("li",{draggable:!0,key:t},n," by ",r)})):a.a.createElement("div",{style:{margin:"0 auto"}},"No books found."):a.a.createElement(h.a,{inline:"centered",active:!0})))},v=function(e){var t=e.title,n=e.books,r=e.showAsList;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,t),r?a.a.createElement(E,{items:n}):a.a.createElement(b,{items:n}))},g=n(381),y=n(384),k=n(61),w=n.n(k);function x(){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://server-library.herokuapp.com/goodreads/callback");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://server-library.herokuapp.com/goodreads/books/?shelf="+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("https://server-library.herokuapp.com/goodreads/books/",{bookIds:n,shelf:t});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return A.apply(this,arguments)}function A(){return(A=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("https://server-library.herokuapp.com/goodreads/search/?query="+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=n(198),G=n(386),N=function(e){var t=e.books,n=e.setShowInfoBox,o=e.resetSearch,c=e.getBookLists,l=Object(r.useState)([]),f=Object(s.a)(l,2),p=f[0],h=f[1],d=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t,p);case 2:o(),n(!0),c(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(G.a,null,a.a.createElement("h3",null,"SEARCH RESULTS"),t&&t.length>0&&a.a.createElement("ul",null,t.map((function(e){var t=e.bookId,n=e.title,r=e.author;return a.a.createElement("li",{key:t,onClick:function(e){return function(e){p.includes(e)?h(p.filter((function(t){return t!==e}))):h([].concat(Object(I.a)(p),[e]))}(t)},className:p.includes(t)?"selectedBook":null},n," by ",r)}))),a.a.createElement(m.a.Group,null,a.a.createElement(m.a,{onClick:function(){return d("read")}},"Add to done."),a.a.createElement(m.a.Or,null),a.a.createElement(m.a,{onClick:function(){return d("to-read")}},"Add to later.")),a.a.createElement(m.a,{color:"teal",style:{marginLeft:16},onClick:function(){o()}},"Clear"))},T=function(e){var t=e.getBookLists,n=Object(r.useRef)(null),o=Object(r.useState)([]),c=Object(s.a)(o,2),l=c[0],f=c[1],p=Object(r.useState)(""),m=Object(s.a)(p,2),h=m[0],d=m[1],b=Object(r.useState)(!1),E=Object(s.a)(b,2),v=E[0],k=E[1],w=Object(r.useState)(!1),x=Object(s.a)(w,2),O=x[0],j=x[1];function S(){return(S=Object(u.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(!1),j(!0),e.next=5,L(h);case 5:r=e.sent,f(r),null!==n&&window.scrollTo(0,n.current.offsetTop),j(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return a.a.createElement("div",{style:{paddingBottom:"24px"}},a.a.createElement("h2",{ref:n},"add."),a.a.createElement(g.a,null,a.a.createElement(g.a.Input,{fluid:!0,action:{color:"teal",icon:"search",loading:O,onClick:function(e){return function(e){return S.apply(this,arguments)}(e)}},placeholder:"Search Goodreads for books",value:h,onChange:function(e){return d(e.target.value)}})),l.length>0&&!v&&a.a.createElement(N,{books:l,setShowInfoBox:k,getBookLists:t,resetSearch:function(){d(""),f([])}}),v&&a.a.createElement(y.a,{info:!0,content:"This book has also been added to your list in Goodreads.",onDismiss:function(){return k(!1)}}))},R=function(e){var t=Object(r.useState)(null),n=Object(s.a)(t,2),o=n[0],c=n[1],l=Object(r.useState)(null),f=Object(s.a)(l,2),p=f[0],m=f[1];function h(e){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:n=e.sent,"read"===t?c(n):m(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function t(){return(t=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:sessionStorage.setItem("authorized","true"),e.history.replace("/");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.location&&e.location.search&&function(){t.apply(this,arguments)}()}),[e.location,e.history]),Object(r.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h("read"),h("to-read")]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),a.a.createElement("div",null,a.a.createElement(T,{getBookLists:h}),a.a.createElement("div",null,a.a.createElement(v,{books:o,showAsList:e.showAsList,title:"done."}),a.a.createElement(v,{books:p,showAsList:e.showAsList,title:"later."})))},W=function(){return a.a.createElement("div",null,a.a.createElement("h2",null,"Books I haven't decided if I want to read or not"),a.a.createElement("ul",null,a.a.createElement("li",null,"The Tenant by Katrine Engberg"),a.a.createElement("li",null,"The Singapore Grip by J. G. Farrell")))};var U=function(){var e=a.a.useState(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],o=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open("https://server-library.herokuapp.com/goodreads/authorize","_self");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement("main",{className:"App"},a.a.createElement("h1",null,"library."),a.a.createElement("div",{className:"buttonGroup"},a.a.createElement(p.a,{content:n?"Show as carousel":"Show as lists.",trigger:a.a.createElement(m.a,{circular:!0,color:"teal",icon:"list ul",onClick:function(){return r(!n)}})}),a.a.createElement(p.a,{content:"Go to Goodreads.",trigger:a.a.createElement(m.a,{circular:!0,color:"teal",icon:"goodreads",onClick:function(e){e.preventDefault(),window.location.href="http://www.goodreads.com"}})}),a.a.createElement(p.a,{content:"Authorize with Goodreads.",trigger:a.a.createElement(m.a,{circular:!0,color:"teal",icon:"sign-in",onClick:function(){return o()}})})),a.a.createElement("hr",null),a.a.createElement(f.c,null,a.a.createElement(f.a,{path:"/",render:function(e){return a.a.createElement(R,Object.assign({showAsList:n},e))},exact:!0}),a.a.createElement(f.a,{path:"/maybe",component:W})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(114);c.a.render(a.a.createElement(z.a,null,a.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[211,1,2]]]);
//# sourceMappingURL=main.cf33c66c.chunk.js.map